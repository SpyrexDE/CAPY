[gd_scene load_steps=3 format=2]

[ext_resource path="res://src/props/moving_platform/MovingPlatform.tscn" type="PackedScene" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D


var toggle = false

func _ready():
	$Tween.interpolate_property($SDPlatform, \"global_position\", $SDPlatform.global_position, get_node(\"Position2D\").global_position, 1)
	$Tween.start()

func _on_Tween_tween_completed(object, key):
	if toggle:
		toggle = false
		$Tween.interpolate_property($SDPlatform, \"global_position\", $SDPlatform.global_position, get_node(\"Position2D\").global_position, 1)
	else:
		toggle = true
		$Tween.interpolate_property($SDPlatform, \"global_position\", $SDPlatform.global_position, self.global_position, 1)
	$Tween.start()
"

[node name="PlatformMover" type="Node2D"]
script = SubResource( 1 )

[node name="SDPlatform" parent="." instance=ExtResource( 1 )]

[node name="Tween" type="Tween" parent="."]

[connection signal="tween_completed" from="Tween" to="." method="_on_Tween_tween_completed"]
